(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["mbmp_pvm_MglIcon"],{"3e72":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{display:"none"}},[n("div",{staticClass:"test-div"}),t._t("icon"),t.marker?t._t("default"):t._e()],2)},i=[],a=(n("4160"),n("caad"),n("d81d"),n("b64b"),n("07ac"),n("2532"),n("159b"),n("5530")),s=n("9f0b"),o=n("81e1"),c={drag:"drag",dragstart:"dragstart",dragend:"dragend"},d={click:"click",mouseenter:"mouseenter",mouseleave:"mouseleave"},m={name:"MapIcon",mixins:[s["a"],o["a"]],inject:["mapbox","map"],provide:function(){var t=this;return{get marker(){return t.marker}}},props:{offset:{type:[Object,Array],default:function(){return[0,0]}},coordinates:{type:Array,required:!0},color:{type:String},anchor:{type:String,default:"center"},draggable:{type:Boolean,default:!1}},data:function(){return{initial:!0,marker:void 0}},watch:{coordinates:function(t){this.initial||this.marker.setLngLat(t)},draggable:function(t){this.initial||this.marker.setDraggable(t)}},mounted:function(){var t=this,e=Object(a["a"])({},this.$props);console.log("Icon.vue, markerOptions:",e),this.$slots.marker&&(e.element=this.$slots.marker[0].elm);var n=document.createElement("div");n.className="test-div",this.marker=new this.mapbox.Marker(n),this.$listeners["update:coordinates"]&&this.marker.on("dragend",(function(e){var n;n=t.coordinates instanceof Array?[e.target._lngLat.lng,e.target._lngLat.lat]:e.target._lngLat,t.$emit("update:coordinates",n)}));var r=Object.keys(c);this.$_bindSelfEvents(r,this.marker),this.initial=!1,this.$_addMarker()},beforeDestroy:function(){void 0!==this.map&&void 0!==this.marker&&this.marker.remove()},methods:{$_addMarker:function(){this.marker.setLngLat(this.coordinates).addTo(this.map),this.$_bindMarkerDOMEvents(),this.$_emitEvent("added",{marker:this.marker})},$_emitSelfEvent:function(t){this.$_emitMapEvent(t,{marker:this.marker})},$_bindMarkerDOMEvents:function(){var t=this;Object.keys(this.$listeners).forEach((function(e){Object.values(d).includes(e)&&t.marker._element.addEventListener(e,(function(e){t.$_emitSelfEvent(e)}))}))},remove:function(){this.marker.remove(),this.$_emitEvent("removed")},togglePopup:function(){return this.marker.togglePopup()}}},l=m,u=(n("f425"),n("2877")),h=Object(u["a"])(l,r,i,!1,null,null,null);e["default"]=h.exports},"6d0d":function(t,e,n){},"81e1":function(t,e,n){"use strict";e["a"]={methods:{$_emitSelfEvent(t,e={}){this.$_emitMapEvent(t,{control:this.control,...e})},$_bindSelfEvents(t,e){Object.keys(this.$listeners).forEach(n=>{t.includes(n)&&e.on(n,this.$_emitSelfEvent)})},$_unbindSelfEvents(t,e){0!==t.length&&e&&t.forEach(t=>{e.off(t,this.$_emitSelfEvent)})}}}},"9f0b":function(t,e,n){"use strict";e["a"]={methods:{$_emitEvent(t,e={}){this.$emit(t,{map:this.map,component:this,...e})},$_emitMapEvent(t,e={}){this.$_emitEvent(t.type,{mapboxEvent:t,...e})}}}},f425:function(t,e,n){"use strict";var r=n("6d0d"),i=n.n(r);i.a}}]);
//# sourceMappingURL=mbmp_pvm_MglIcon.js.map