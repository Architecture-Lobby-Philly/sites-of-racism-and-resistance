(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pvm_MglPopup"],{"81e1":function(t,e,o){"use strict";e["a"]={methods:{$_emitSelfEvent(t,e={}){this.$_emitMapEvent(t,{control:this.control,...e})},$_bindSelfEvents(t,e){Object.keys(this.$listeners).forEach(o=>{t.includes(o)&&e.on(o,this.$_emitSelfEvent)})},$_unbindSelfEvents(t,e){0!==t.length&&e&&t.forEach(t=>{e.off(t,this.$_emitSelfEvent)})}}}},"9f0b":function(t,e,o){"use strict";e["a"]={methods:{$_emitEvent(t,e={}){this.$emit(t,{map:this.map,component:this,...e})},$_emitMapEvent(t,e={}){this.$_emitEvent(t.type,{mapboxEvent:t,...e})}}}},ab67:function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticStyle:{display:"none"}},[t._t("default")],2)},p=[],s=(o("caad"),o("d81d"),o("a9e3"),o("b64b"),o("9f0b")),n=o("81e1"),u={open:"open",close:"close"},a={name:"Popup",mixins:[s["a"],n["a"]],inject:{mapbox:{default:null},map:{default:null},marker:{default:null}},props:{closeButton:{type:Boolean,default:!0},closeOnClick:{type:Boolean,default:!0},anchor:{validator:function(t){var e=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right"];return"string"===typeof t&&e.includes(t)},default:void 0},offset:{type:[Number,Object,Array],default:function(){return[0,0]}},coordinates:{type:Array},onlyText:{type:Boolean,default:!1},showed:{type:Boolean,default:!1}},data:function(){return{initial:!0,popup:void 0}},computed:{open:{get:function(){return void 0!==this.popup&&this.popup.isOpen()},set:function(t){this.map&&this.popup&&(t?this.popup.addTo(this.map):this.popup.remove())}}},watch:{coordinates:function(t){this.initial||this.popup.setLngLat(t)},showed:function(t,e){t!==e&&(this.open=t,this.marker&&this.marker.togglePopup())}},created:function(){this.popup=new this.mapbox.Popup(this.$props)},mounted:function(){this.$_addPopup(),this.initial=!1},beforeDestroy:function(){this.map&&(this.popup.remove(),this.$_emitEvent("removed"))},methods:{$_addPopup:function(){if(this.popup=new this.mapbox.Popup(this.$props),void 0!==this.coordinates&&this.popup.setLngLat(this.coordinates),void 0!==this.$slots.default)if(this.onlyText)if(3===this.$slots.default[0].elm.nodeType){var t=document.createElement("span");t.appendChild(this.$slots.default[0].elm),this.popup.setText(t.innerText)}else this.popup.setText(this.$slots.default[0].elm.innerText);else this.popup.setDOMContent(this.$slots.default[0].elm);this.$_bindSelfEvents(Object.keys(u),this.popup),this.$_emitEvent("added",{popup:this.popup}),this.marker&&this.marker.setPopup(this.popup),this.showed&&this.marker&&this.marker.togglePopup()},$_emitSelfEvent:function(t){this.$_emitMapEvent(t,{popup:this.popup})},remove:function(){this.popup.remove(),this.$_emitEvent("remove",{popup:this.popup})}}},l=a,h=o("2877"),r=Object(h["a"])(l,i,p,!1,null,null,null);e["default"]=r.exports}}]);
//# sourceMappingURL=pvm_MglPopup.js.map