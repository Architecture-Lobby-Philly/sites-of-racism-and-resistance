(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pvm_MglMarker"],{"81e1":function(e,t,r){"use strict";t["a"]={methods:{$_emitSelfEvent(e,t={}){this.$_emitMapEvent(e,{control:this.control,...t})},$_bindSelfEvents(e,t){Object.keys(this.$listeners).forEach(r=>{e.includes(r)&&t.on(r,this.$_emitSelfEvent)})},$_unbindSelfEvents(e,t){0!==e.length&&t&&e.forEach(e=>{t.off(e,this.$_emitSelfEvent)})}}}},"9f0b":function(e,t,r){"use strict";t["a"]={methods:{$_emitEvent(e,t={}){this.$emit(e,{map:this.map,component:this,...t})},$_emitMapEvent(e,t={}){this.$_emitEvent(e.type,{mapboxEvent:e,...t})}}}},"9fe7":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{display:"none"}},[e._t("marker"),e.marker?e._t("default"):e._e()],2)},i=[],a=(r("4160"),r("caad"),r("d81d"),r("b64b"),r("07ac"),r("2532"),r("159b"),r("5530")),s=r("9f0b"),o=r("81e1"),m={drag:"drag",dragstart:"dragstart",dragend:"dragend"},d={click:"click",mouseenter:"mouseenter",mouseleave:"mouseleave"},c={name:"MapMarker",mixins:[s["a"],o["a"]],inject:["mapbox","map"],provide:function(){var e=this;return{get marker(){return e.marker}}},props:{offset:{type:[Object,Array],default:function(){return[0,0]}},coordinates:{type:Array,required:!0},color:{type:String},anchor:{type:String,default:"center"},draggable:{type:Boolean,default:!1}},data:function(){return{initial:!0,marker:void 0}},watch:{coordinates:function(e){this.initial||this.marker.setLngLat(e)},draggable:function(e){this.initial||this.marker.setDraggable(e)}},mounted:function(){var e=this,t=Object(a["a"])({},this.$props);this.$slots.marker&&(t.element=this.$slots.marker[0].elm),this.marker=new this.mapbox.Marker(t),this.$listeners["update:coordinates"]&&this.marker.on("dragend",(function(t){var r;r=e.coordinates instanceof Array?[t.target._lngLat.lng,t.target._lngLat.lat]:t.target._lngLat,e.$emit("update:coordinates",r)}));var r=Object.keys(m);this.$_bindSelfEvents(r,this.marker),this.initial=!1,this.$_addMarker()},beforeDestroy:function(){void 0!==this.map&&void 0!==this.marker&&this.marker.remove()},methods:{$_addMarker:function(){this.marker.setLngLat(this.coordinates).addTo(this.map),this.$_bindMarkerDOMEvents(),this.$_emitEvent("added",{marker:this.marker})},$_emitSelfEvent:function(e){this.$_emitMapEvent(e,{marker:this.marker})},$_bindMarkerDOMEvents:function(){var e=this;Object.keys(this.$listeners).forEach((function(t){Object.values(d).includes(t)&&e.marker._element.addEventListener(t,(function(t){e.$_emitSelfEvent(t)}))}))},remove:function(){this.marker.remove(),this.$_emitEvent("removed")},togglePopup:function(){return this.marker.togglePopup()}}},l=c,h=r("2877"),u=Object(h["a"])(l,n,i,!1,null,null,null);t["default"]=u.exports}}]);
//# sourceMappingURL=pvm_MglMarker.js.map